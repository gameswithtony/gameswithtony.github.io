<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <link rel="shortcut icon" href="images/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <title>Kanban EV Solo Mode</title>
</head>

<body>
    <main id="kanbanev">
        <section class="car-icon-title" v-if="!gameHasStarted">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 108.98 57.24" class="car-icon-title-svg">
                <g id="Layer_2" data-name="Layer 2">
                    <g id="Layer_1-2" data-name="Layer 1">
                        <path class="cls-1"
                            d="M108.26,20.35a5,5,0,0,0-.94-2.24l-.61-.82a72,72,0,0,0-4.2-7.34,13,13,0,0,0-5.63-4.51,33.38,33.38,0,0,0-8.39-1.79,71.77,71.77,0,0,0-7.75-.22A18.12,18.12,0,0,0,75.45,4H70.82C68.23.9,66.55.3,65.24.13A21.46,21.46,0,0,0,63,0a5,5,0,0,0-4.84,3.87l-9.74-.05c-6.36,0-12.2,0-14.05-.12-1.3-.5-3-.84-6.77-1.11-1.73-.13-2.75-.18-3.42-.18a6.19,6.19,0,0,0-2.29.37c-2.23.36-7.34,1.73-10.33,2.55a6.08,6.08,0,0,0-.64.22l-1.36.59c-1.17.52-2.87,1.77-4.31,4.8a43.92,43.92,0,0,0-1.93,5C2.41,17.76,0,23.12,0,28.62S2.41,39.48,3.32,41.3a45.37,45.37,0,0,0,1.93,5c1.52,3.19,3.33,4.37,4.31,4.8l1.37.59a4.83,4.83,0,0,0,.64.22c3,.82,8.09,2.19,10.32,2.55a6.19,6.19,0,0,0,2.29.37c.67,0,1.69,0,3.42-.18,3.79-.28,5.47-.61,6.77-1.11,1.85-.07,7.69-.12,14.06-.12l9.73-.05A5,5,0,0,0,63,57.24a19.63,19.63,0,0,0,2.24-.14c1.31-.16,3-.76,5.58-3.87h4.63a18.18,18.18,0,0,0,5.29.57,75.17,75.17,0,0,0,7.75-.21,33.47,33.47,0,0,0,8.39-1.79,13.12,13.12,0,0,0,5.64-4.51A74.06,74.06,0,0,0,106.71,40l.61-.82a5,5,0,0,0,.94-2.24,68.37,68.37,0,0,0,.72-8.27,67.33,67.33,0,0,0-.72-8.27" />
                        <path class="cls-1"
                            d="M63,53.4a1.12,1.12,0,0,1-1-1.51l.88-2.39-14.43.08c-6.25,0-13.31.05-14.72.15h-.13l-.18.06,0,0c-.82.36-1.92.7-6,1-1.61.11-2.58.17-3.14.17a2.3,2.3,0,0,1-1.06-.18L23,50.73l-.17,0c-1.41-.17-6.19-1.4-10.21-2.5l-.14-.05-1.36-.59c-.28-.12-1.31-.72-2.36-2.92a43.84,43.84,0,0,1-1.81-4.74l0-.08,0-.07c-.5-1-3-6.14-3-11.14s2.5-10.16,3-11.14l0-.07,0-.08a43,43,0,0,1,1.81-4.74c1-2.2,2.1-2.81,2.4-2.94l1.32-.57L12.58,9c4-1.1,8.8-2.34,10.21-2.5l.17,0,.16-.08a2.3,2.3,0,0,1,1.06-.18c.56,0,1.56.06,3.14.17,4.12.3,5.2.65,6,1l.09,0,.12,0h.13c1.41.1,8.48.15,14.74.15l14.41.09L62,5.35a1.12,1.12,0,0,1,1-1.51A15.31,15.31,0,0,1,64.77,4c.3,0,1.21.15,3.4,2.89l.81,1h7.14l.17-.07a13.73,13.73,0,0,1,4.45-.5,73.61,73.61,0,0,1,7.37.19A30.87,30.87,0,0,1,95.39,9a9.22,9.22,0,0,1,4.08,3.3,76.39,76.39,0,0,1,3.94,7l0,.07.81,1.07a1.2,1.2,0,0,1,.21.51,64.45,64.45,0,0,1,.68,7.7,64.45,64.45,0,0,1-.68,7.7,1.2,1.2,0,0,1-.21.51l-.81,1.07,0,.07a75.37,75.37,0,0,1-3.94,7,9.22,9.22,0,0,1-4.08,3.3,30.87,30.87,0,0,1-7.28,1.52,73.61,73.61,0,0,1-7.37.19,13.73,13.73,0,0,1-4.45-.5l-.17-.07H69l-.81,1c-2.19,2.74-3.1,2.85-3.4,2.89A17.09,17.09,0,0,1,63,53.4" />
                        <path class="cls-2"
                            d="M63,2.84A2.12,2.12,0,0,0,61,5.7l.37,1-13-.08c-6.25,0-13.3-.05-14.67-.14h0c-.9-.39-2.07-.77-6.35-1.08-1.63-.12-2.62-.17-3.21-.17a3.27,3.27,0,0,0-1.51.28c-1.83.22-8.34,2-10.35,2.53a2.15,2.15,0,0,0-.27.1l-1.34.57c-.5.23-1.73,1-2.9,3.43A44.42,44.42,0,0,0,6,17C5.4,18.1,2.84,23.4,2.84,28.62S5.4,39.15,6,40.21a44.42,44.42,0,0,0,1.86,4.87c1.17,2.45,2.4,3.21,2.87,3.41l1.37.59a1.22,1.22,0,0,0,.27.09c2,.56,8.52,2.32,10.35,2.54a3.27,3.27,0,0,0,1.51.28c.59,0,1.58-.05,3.21-.17,4.28-.31,5.45-.69,6.35-1.09h0c1.37-.09,8.42-.14,14.66-.14l13-.08-.37,1a2.12,2.12,0,0,0,2,2.86,16.64,16.64,0,0,0,1.89-.11c.49-.06,1.62-.2,4.07-3.26l.51-.64h6.45a13.73,13.73,0,0,0,4.83.58,72.11,72.11,0,0,0,7.46-.2,31.7,31.7,0,0,0,7.57-1.59,10.27,10.27,0,0,0,4.49-3.62,81.4,81.4,0,0,0,4-7.13l.75-1a2.1,2.1,0,0,0,.4-1,65.57,65.57,0,0,0,.69-7.85,65.57,65.57,0,0,0-.69-7.85,2.1,2.1,0,0,0-.4-1l-.75-1a81.26,81.26,0,0,0-4-7.12,10.27,10.27,0,0,0-4.49-3.62,31.7,31.7,0,0,0-7.57-1.59,72.11,72.11,0,0,0-7.46-.2,14.06,14.06,0,0,0-4.83.57H69.47L69,6.21C66.51,3.15,65.38,3,64.89,3A16.64,16.64,0,0,0,63,2.84M63,5s.86,0,1.63.09S67.3,7.54,67.3,7.54L68.44,9h8s.48-.57,4.3-.57A70.06,70.06,0,0,1,88,8.59,29.38,29.38,0,0,1,95,10a8.1,8.1,0,0,1,3.62,3c1,1.24,3.91,7,3.91,7l.86,1.14a64.4,64.4,0,0,1,.67,7.54,64.13,64.13,0,0,1-.67,7.53l-.86,1.15s-3,5.72-3.91,7a8.17,8.17,0,0,1-3.62,3,29.38,29.38,0,0,1-7,1.43,70.06,70.06,0,0,1-7.24.19c-3.82,0-4.3-.57-4.3-.57h-8L67.3,49.7s-1.91,2.38-2.67,2.48-1.63.09-1.63.09l1.44-3.91-16,.1s-14.49,0-15.16.19-.77.67-6,1.05c-1.68.12-2.58.16-3.06.16-1,0-.21-.19-1.19-.26-1.43-.09-10.11-2.48-10.11-2.48l-1.33-.57s-.86-.38-1.82-2.39A43.69,43.69,0,0,1,7.92,39.4S5,33.86,5,28.62s3-10.78,3-10.78a44.33,44.33,0,0,1,1.81-4.77c1-2,1.82-2.38,1.82-2.38l1.33-.57S21.56,7.73,23,7.64c1-.07.16-.27,1.19-.27.48,0,1.38,0,3.06.17,5.24.38,5.34.86,6,1s15.16.19,15.16.19l16,.1Z" />
                        <path class="cls-2"
                            d="M90.58,11a26.39,26.39,0,0,1,3.34,3.05c.67.95,5.15,5.24,5.15,5.24s-2.26-4-3.15-5.34C94.21,11.28,90.58,11,90.58,11" />
                        <path class="cls-2"
                            d="M21.8,13.45l-.57-.57A119.28,119.28,0,0,1,34.3,11.26c7.15-.48,9-.38,9-.38l-1.81,2.67s-13.11.19-15.49.1-4.2-.2-4.2-.2" />
                        <path class="cls-2"
                            d="M46.12,13.55s6.68-.29,11.26-.86S66,11.45,66,11.45l.19-.57s-7.63-.19-11.44-.19-5.82.19-5.82.19a15.09,15.09,0,0,0-1.53,1.24,18.76,18.76,0,0,0-1.24,1.43" />
                        <path class="cls-2"
                            d="M21.8,43.79l-.57.57A119.28,119.28,0,0,0,34.3,46c7.15.48,9,.38,9,.38l-1.81-2.67S28.38,43.5,26,43.59s-4.2.2-4.2.2" />
                        <path class="cls-2"
                            d="M46.12,43.69s6.68.29,11.26.86S66,45.79,66,45.79l.19.57s-7.63.19-11.44.19-5.82-.19-5.82-.19a15.09,15.09,0,0,1-1.53-1.24,18.76,18.76,0,0,1-1.24-1.43" />
                        <path class="cls-2"
                            d="M60.62,28.62s0,1.81-.38,5.25a18.34,18.34,0,0,1-2.48,6.73,4.59,4.59,0,0,0,1.52.38c1,.1,9.26,1.34,11.83,1.53a14.62,14.62,0,0,0,4.39-.29s1.72.52,3.24-4.25A28.44,28.44,0,0,0,80,28.62a28.44,28.44,0,0,0-1.24-9.35C77.22,14.5,75.5,15,75.5,15a14.62,14.62,0,0,0-4.39-.29c-2.57.19-10.87,1.43-11.83,1.53a4.59,4.59,0,0,0-1.52.38,18.34,18.34,0,0,1,2.48,6.73c.38,3.44.38,5.25.38,5.25" />
                        <path class="cls-2"
                            d="M10.78,28.62s0,1.74,1.72,6.53c1.81,5.15,7,3.26,10.49,3.54s8,.57,16.36.86,12.92.36,12.92.36a11.39,11.39,0,0,0,2.29-4.19,35.37,35.37,0,0,0,1.24-7.1,35.37,35.37,0,0,0-1.24-7.1,11.39,11.39,0,0,0-2.29-4.19s-4.53.07-12.92.36-12.83.57-16.36.86-8.68-1.61-10.49,3.54c-1.68,4.79-1.72,6.53-1.72,6.53" />
                        <path class="cls-2"
                            d="M90.58,46.53a26.39,26.39,0,0,0,3.34-3.05c.67-1,5.15-5.25,5.15-5.25s-2.26,4-3.15,5.34c-1.71,2.67-5.34,3-5.34,3" />
                    </g>
                </g>
            </svg>
        </section>
        <section class="playerArea" v-if="!gameHasStarted">
            <h1 class="starttitle">
                Kanban EV Solo Helper
            </h1>
            <p class="startmessage">
                Select your player color
            </p>
            <ul class="player-color-options">
                <li class="player-color-option yellow" v-on:click="setPlayerColor(0)"
                    v-bind:class="{ playerColorOptionSelected: playerColor === 0 }">Y</li>
                <li class="player-color-option blue" v-on:click="setPlayerColor(1)"
                    v-bind:class="{ playerColorOptionSelected: playerColor === 1 }">B</li>
                <li class="player-color-option purple" v-on:click="setPlayerColor(2)"
                    v-bind:class="{ playerColorOptionSelected: playerColor === 2 }">P</li>
                <li class="player-color-option red" v-on:click="setPlayerColor(3)"
                    v-bind:class="{ playerColorOptionSelected: playerColor === 3 }">R</li>
            </ul>
            <p class="startmessage">
                Select your certification track position
            </p>
            <ul class="player-color-options playerColorOptionTrack">
                <li class="player-color-option" v-on:click="setStartingCertTrackPosition(3)"
                    v-bind:class="{ playerColorOptionSelected: playerStartingCertTrackPosition === 3 }">4</li>
                <li class="player-color-option" v-on:click="setStartingCertTrackPosition(2)"
                    v-bind:class="{ playerColorOptionSelected: playerStartingCertTrackPosition === 2 }">3</li>
                <li class="player-color-option" v-on:click="setStartingCertTrackPosition(1)"
                    v-bind:class="{ playerColorOptionSelected: playerStartingCertTrackPosition === 1 }">2</li>
                <li class="player-color-option" v-on:click="setStartingCertTrackPosition(0)"
                    v-bind:class="{ playerColorOptionSelected: playerStartingCertTrackPosition === 0 }">1</li>
            </ul>
            <p class="startmessage startmessage--small">
                Select your difficulty cards (if any) or <a href="#" v-on:click="chooseRandomDifficulty" style="text-decoration: underline;">randomly choose two.</a>
            </p>
            <ul class="difficulty-card-options">
               <li class="difficulty-card-option" v-for="difficultyCard in difficultyCards">
                <label v-bind:for="difficultyCard.id">
                   <input type="checkbox" v-model="difficultyCard.include" v-bind:id="difficultyCard.id" /> 
                   {{ difficultyCard.id + 1 }}
                </label>
               </li> 
            </ul>
            <button class="button" v-on:click="startGame">Start Game</button>
            <section class="instructions">
                <ul class="instructions-list">
                    <p><strong>How To Use This App</strong></p>
                    <li>Begin by selecting your player color and starting position on the certification track.</li>
                    <li>If you want to use any Difficulty Cards you can either select them or use the 'randomly choose two' link which will choose two for you.</li>
                    <li>The app will cycle between the Department Selection and Working phases of the game.</li>
                    <li>During department selection, you must select the department and workstation for yourself.</li>
                    <li>During department selection, the next available workstation will be automatically chosen for Sandra (except for the first day of the game, where she sits at her desk).</li>
                    <li>During department selection a department will be chosen for Mr. Lacerda and Mr. Turczi. If the department chosen by the card is not available, the next available department is chosen.</li>
                    <li>The possible locations for Mr. Lacerda and Mr. Turczi (i.e. the column of cards, or what is left of them) is shown at the top of the screen as small yellow department icons. This helps you anticipate where the bots may be placed.</li>
                    <li>During the working phase, the app will display each player in turn order and show the department the player is working in.</li>
                    <li>During the working phase, if you have chosen an applicable Difficulty Card, reminders are shown at the bottom of the rules references.</li>
                    <li>During the working phase, for Mr. Lacerda and Mr. Turczi, other information is shown such as the current Part, and based on Sandra's position the Car and Design Tile column.</li>
                    <li>During the working phase, if you the department you are in requires selecting a Part, the current Part will be shown. If that Part is not valid, then use the 'Draw Another Part' link to get a new Part.</li>
                    <li>Instructions for yourself, Sandra, Mr. Lacerda and Mr. Turczi are all provided below the department information.</li>
                </ul>
            </section>  
        </section>
        <section class="playerArea" v-if="gameHasStarted">
            <a href="#" v-on:click="reset" class="start-new">Start a New Game</a>
            <header v-if="this.currentPhase === 0" class="phase-title phase-title-dept">
                <span v-for="deptCard in currentDeptCards">
                    <img class="dept-card-img" v-bind:src="'images/' + deptImageYellow(deptCard.dept)" />
                </span>
                <h2>Department Selection</h2>
                <p>{{ playerName(currentPlayer.engineer) }}</p>  
            </header>
            <header v-if="this.currentPhase === 1" class="phase-title phase-title-work">
                <h2>Working Phase</h2>
                <p>{{ playerName(currentPlayer.engineer) }}</p>  
            </header>
            <img v-bind:src="currentPlayerImage" class="player-image" />
            <p class="dept-message" v-if="this.currentPhase === 0 && (this.currentPlayer.engineer === 3) && this.currentPlayer.dept != null && !(this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection)">Tap department to change.</p>
            <p v-if="this.currentPhase === 0 && this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection">On the first day of the game, Sandra sits at her desk and takes no action.</p>
            <p class="dept-message" v-if="this.currentPhase === 0 &&this.currentPlayer.engineer === 2 && !this.isFirstDeptSelection"><span class="instructions-important">Next available workstation pre-selected.</span></p>
            <p class="dept-message" v-if="this.currentPhase === 0 &&this.currentPlayer.engineer === 2 && !this.isFirstDeptSelection && this.currentPlayer.dept === 4">Sandra sits at her desk.</p>
            <p class="dept-message" v-if="this.currentPhase === 0 && this.currentPlayer.engineer === 3 && this.currentPlayer.dept == null">Tap to select department.</p>
            <p class="dept-message" v-if="this.currentPhase === 0 && (this.currentPlayer.engineer === 0 || this.currentPlayer.engineer === 1)"><span class="instructions-important">Department has been pre-selected.</span></p>
            <section class="dept-select" v-if="this.currentPhase === 0">
                <ul class="dept-selector">
                    <li class="dept-selection" v-on:click="setDept(0)"
                    v-bind:class="{ deptSelected: currentPlayer.dept === 0, dim: this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection }">
                        <img class="dept-img" src="images/randd.png" />
                    </li>
                    <li class="dept-selection" v-on:click="setDept(1)"
                    v-bind:class="{ deptSelected: currentPlayer.dept === 1, dim: this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection }">
                        <img class="dept-img" src="images/assembly.png" />
                    </li>
                    <li class="dept-selection" v-on:click="setDept(2)"
                    v-bind:class="{ deptSelected: currentPlayer.dept === 2, dim: this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection }">
                        <img class="dept-img" src="images/logistics.png" />
                    </li>
                    <li class="dept-selection" v-on:click="setDept(3)"
                    v-bind:class="{ deptSelected: currentPlayer.dept === 3, dim: this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4 && this.isFirstDeptSelection }">
                        <img class="dept-img" src="images/design.png" />
                    </li>
                    <li class="dept-selection" v-on:click="setDept(4)"
                    v-bind:class="{ deptSelected: currentPlayer.dept === 4 }">
                        <img class="dept-img" src="images/admin.png" />
                    </li>
                </ul>
            </section>
            <p class="dept-message dept-message-secondary" v-if="this.currentPhase === 0 && this.currentPlayer.engineer === 0">Mr. Lacerda always takes the bottom workstation.</p>
            <p class="dept-message dept-message-secondary" v-if="this.currentPhase === 0 && this.currentPlayer.engineer === 1">Mr. Turczi always takes the top workstation.</p>
            <p class="dept-message dept-message-secondary" v-if="this.currentPhase === 0 && (this.currentPlayer.engineer === 2 || this.currentPlayer.engineer === 3) && !(this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4)">Tap to select a workstation.</p>
            <section class="pos-select" v-if="this.currentPhase === 0 && !(this.currentPlayer.engineer === 2 && this.currentPlayer.dept === 4)">
                <ul class="pos-selector">
                    <li class="pos-selection" v-if="this.currentPlayer.dept < 4" v-on:click="setPos(0)"
                    v-bind:class="{ posSelected: currentPlayer.position === 0, posImgInvisible: this.currentPlayer.engineer === 0 }">
                        <img class="pos-img" src="images/position2.png" />
                    </li>
                    <li class="pos-selection" v-if="this.currentPlayer.dept < 4" v-on:click="setPos(1)"
                    v-bind:class="{ posSelected: currentPlayer.position === 1, posImgInvisible: this.currentPlayer.engineer === 1 }">
                        <img class="pos-img" src="images/position3.png" />
                    </li>
                    <li class="pos-selection" v-if="this.currentPlayer.dept === 4" v-on:click="setPos(0)"
                    v-bind:class="{ posSelected: currentPlayer.position === 0, posImgInvisible: this.currentPlayer.engineer === 0 }">
                        <img class="pos-img" src="images/position1.png" />
                    </li>
                    <li class="pos-selection" v-if="this.currentPlayer.dept === 4" v-on:click="setPos(1)"
                    v-bind:class="{ posSelected: currentPlayer.position === 1, posImgInvisible: this.currentPlayer.engineer === 1 }">
                        <img class="pos-img" src="images/position2.png" />
                    </li>
                </ul>
            </section>
            <section class="selected-dept" v-if="this.currentPhase === 1">
                <img v-if="currentPlayer.dept === 0" class="dept-img" src="images/randd.png" />
                <img v-if="currentPlayer.dept === 1" class="dept-img" src="images/assembly.png" />
                <img v-if="currentPlayer.dept === 2" class="dept-img" src="images/logistics.png" />
                <img v-if="currentPlayer.dept === 3" class="dept-img" src="images/design.png" />
                <img v-if="currentPlayer.dept === 4" class="dept-img" src="images/admin.png" />
                <img v-if="currentPlayer.engineer === 0 || this.currentPlayer.engineer === 1" v-bind:src="currentTrainingTrackImage" style="height: 60px; padding-left: 1rem; margin-left: 1rem; border-left: solid 1px black;" />
            </section>
            <section class="extra-info" v-if="this.currentPhase === 1 && (currentPlayer.dept === 1 || currentPlayer.dept === 2) && (this.currentPlayer.engineer === 0 || this.currentPlayer.engineer === 1)">
                <img v-bind:src="currentPartImage" class="extra-image" />
                <img v-bind:src="currentCarImage" class="extra-image"  v-if="currentPlayer.dept === 1" />
                <img v-bind:src="currentKanbanImage" class="extra-image" v-if="currentPlayer.dept === 2 && this.currentPlayer.engineer === 0" />
                <br />
                <a href="#" class="draw-part" v-on:click="drawPart">Draw Another Part</a>
            </section>          
            <section class="design-tiles" v-if="this.currentPhase === 1 && currentPlayer.dept === 3 && (this.currentPlayer.engineer === 0 || this.currentPlayer.engineer === 1)">
                <img v-bind:class="{ designTileSelected: sandrasPosition === 0 }" src="images/designstack.png" />
                <img v-bind:class="{ designTileSelected: sandrasPosition === 1 }" src="images/designtile.png" />
                <img v-bind:class="{ designTileSelected: sandrasPosition === 2 }" src="images/designtile.png" />
                <img v-bind:class="{ designTileSelected: sandrasPosition === 3 }" src="images/designtile.png" />
                <img v-bind:class="{ designTileSelected: sandrasPosition === 4 }" src="images/designtile.png" />
            </section>
            <section class="recycle" v-if="this.isEndOfDay && this.currentDeptCards[0].parts">
                <strong class="recycle-title">END OF DAY: Recycle if possible.</strong>
                <section class="recycle-section">
                    <section>
                        Plan
                        <div v-for="part in currentDeptCards[0].parts">
                            <img v-bind:src="'images/' + partImage(part)" class="small-image" />
                        </div>
                    </section>
                    <section class="recycle-selection">
                        Selection 
                        <div>
                            <img v-bind:src="'images/' + partImage(currentSelectionCard.part)" class="small-image" />
                        </div>
                    </section> 
                </section>
            </section>
            <section class="recycle" v-if="this.isEndOfDay && !this.currentDeptCards[0].parts">
                <strong class="recycle-title">END OF DAY: No Recycle.</strong>
            </section>
            <section class="recycle" v-if="this.currentPhase === 0 && this.phaseIndex === 3 &&this.currentDeptCards.length > 0 && !this.currentDeptCards[0].parts">
                <strong class="recycle-title">NOTE: No Recycle will occur at the end of day.</strong>
            </section>
            <section class="recycle" v-if="this.currentPhase === 0 && this.phaseIndex === 3 && this.currentDeptCards.length > 0 && this.currentDeptCards[0].parts">
                <strong class="recycle-title">NOTE: Recycle may occur at end of day.</strong>
                <section class="recycle-section recycle-section-centered">
                    <section>
                        Plan
                        <div v-for="part in currentDeptCards[0].parts">
                            <img v-bind:src="'images/' + partImage(part)" class="small-image" />
                        </div>
                    </section> 
                </section>
            </section>
            <section class="instructions" v-if="this.currentPhase === 1">
                <ul class="instructions-list" v-if="currentPlayer.dept === 0 && currentPlayer.engineer === 0">
                    <li>Advance once on the training track ({{ currentPlayerName }} should end up on the spot indicated above).</li>
                    <li>Upgrade the Design from the top of the Colleagues' shared Design stack using a Car Part from the supply (Highest available PP > Banked Shift > Books > Blank), ignoring <span v-if="!difficultyCards[3].include">any printed benefits in Upgrade spaces.</span><span v-if="difficultyCards[3].include">non-PP benefits in Upgrade spaces (Difficulty Card #4).</span></li>
                    <li>Advance the Part value, and gain PP equal to the new value of the Part.</li>
                    <li v-if="lacerdaIsCertified && !difficultyCards[0].include"><span class="instructions-important">Lacerda Is Certified: </span>Mr. Lacerda upgrades a design again.</li>
                    <li v-if="!lacerdaIsCertified && !difficultyCards[0].include"><span class="instructions-important">Lacerda Is NOT Certified: </span>If he was, he would upgrade a design again.</li>
                    <li v-if="difficultyCards[0].include"><span class="instructions-important">Difficulty Card #1: Certified Lacerda: </span>Mr. Lacerda upgrades a design again.</li>
                    <li>Take car <span class="instructions-important">behind Pace Car.</span></li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[3].include">
                        <span class="instructions-important">Difficulty Card #4: Productive Upgrades<br /></span>If {{ currentPlayerName }} places a Part, and it covers a PP bonus space, {{ currentPlayerName }} them (any other bonus is still ignored).
                    </li>
                    <li v-if="difficultyCards[4].include">
                        <span class="instructions-important">Difficulty Card #5: Optimized Upgrades<br /></span>If {{ currentPlayerName }} places a Part, and it covers a non-PP bonus space, {{ currentPlayerName }} scores 1 PP.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 0 && currentPlayer.engineer === 1">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Upgrade the Design from the top of the Colleagues' shared Design stack using a Car Part from the supply (Highest available PP > Banked Shift > Books > Blank), ignoring <span v-if="!difficultyCards[3].include">any printed benefits in Upgrade spaces.</span><span v-if="difficultyCards[3].include">non-PP benefits in Upgrade spaces (Difficulty Card #4).</span></li>
                    <li>Advance the Part value, and gain PP equal to the new value of the Part.</li>
                    <li>Take car <span class="instructions-important">with highest PP value</span> (Concept > Sports > Truck > SUV > City).</li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[3].include">
                        <span class="instructions-important">Difficulty Card #4: Productive Upgrades<br /></span>If {{ currentPlayerName }} places a Part, and it covers a PP bonus space, {{ currentPlayerName }} scores them (any other bonus is still ignored).
                    </li>
                    <li v-if="difficultyCards[4].include">
                        <span class="instructions-important">Difficulty Card #5: Optimized Upgrades<br /></span>If {{ currentPlayerName }} places a Part, and it covers a non-PP bonus space, {{ currentPlayerName }} scores 1 PP.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 0 && currentPlayer.engineer === 2">
                    <li>Advance the Pace Car 1 space. Advance all Cars behind it to fill the gap. If the Pace Car moves onto a striped space, this triggers a Meeting.</li>
                    <li><strong>Evaluation Penalty: </strong>Have 2 or fewer Upgraded Designs.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 0 && currentPlayer.engineer === 3">
                    <p><strong>Claim Cars</strong></p>
                    <li>Return a matching Design to the bottom of the Central stack.</li>
                    <li>Spend Shifts cost.</li>
                    <li>Place Car in any empty garage.</li>
                    <li>Receive Garage tile benefit.</li>
                    <li>Flip the Garage tile.</li>
                    <li>Check for Factory Goals.</li>
                    <li>At end of turn, advance the Pace Car once per Car claimed and advance Cars to close gaps.</li>
                    <li>Check Meeting marker.</li>
                    <p style="margin-top: 2rem;"><strong>Upgrade a Design</strong></p>
                    <li>Place a Car Part on any empty Upgrade space.</li>
                    <li>Receive benefit.</li>
                    <li>Advance the Value marker for the Car Part.</li>
                    <li>Place the Upgraded Design face down next to your Player board, or above a garage if you have a matching car (it is a Tested Design).</li>
                    <li>Earn 2 PP.</li>
                    <li>Check for Factory Goals.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 1 && currentPlayer.engineer === 0">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Provide the selected part (shown above) from the supply to the Car that needs it. The indicated Model is also shown above.</li>
                    <li>When the Cars move through the Assembly line and a choice needs to be made between arrows, Mr. Lacerda moves the Cars from top to bottom, or bottom to top before moving left.</li>
                    <li>
                        <span v-if="!lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda is NOT yet certified.<br /></span>
                            Once he is certified, he provides an additional Part.
                        </span>
                        <span v-if="lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda IS CERTIFIED<br /></span>Because he is certified, Mr. Lacerda provides an additional Part.
                        </span>
                        <span v-if="difficultyCards[0].include">
                            <span class="instructions-important">Difficulty Card #1: Certified Lacerda<br /></span>Mr. Lacerda provides an additional Part.
                        </span>
                    </li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 1 && currentPlayer.engineer === 1">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Provide the selected part (shown above) from the supply to the Car that needs it. The indicated Model is also shown above.</li>
                    <li>When the Cars move through the Assembly line and a choice needs to be made between arrows, Mr. Turczi always moves left (where it is possible to choose).</li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 1 && currentPlayer.engineer === 2">
                    <li>Remove all Car Parts from all Assembly spaces.</li>
                    <li><strong>Evaluation Penalty: </strong>Have 2 or fewer Cars in your garages.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 1 && currentPlayer.engineer === 3">
                    <p><strong>Clean Out Assembly Spaces</strong></p>
                    <li><span class="instructions-important">Before taking actions:</span> if a Model has all of its Assembly spaces full, return those Car Parts to the supply.</li>
                    <p style="margin-top: 2rem;"><strong>Provide a Needed Part</strong></p>
                    <li>Place a Car Part on an empty Assembly space for any Model. <span class="instructions-important">Provide upgraded parts first.</span></li>
                    <li>The Car Part must be different.</li>
                    <li>Move the Car at the start of this Model’s assembly line 1 position, displacing other Cars along the path following the arrows.</li>
                    <li>Place a new Car of this Model from the supply at the beginning of the assembly line.</li>
                    <li>Score PP if car is pushed off assembly line .</li>
                    <li>Check Demand tiles.</li>
                    <li>Move Car to Test track.</li>
                    <li>If there are more than four cars behind the Pace Car, remove cars nearest to the Pace Car until there are four.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 2 && currentPlayer.engineer === 0">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <p><strong>First, Mr. Lacerda issues a Kanban order <br /><span class="instructions-important">See above for card placement.</span></strong></p>
                    <li>Flip the top card of the Kanban deck, place it in its space with the 2 symbols for the same Part oriented to align with the matching warehouse (i.e. double Battery or Autopilot at the top; double Body or Electronics at the bottom).</li>
                    <li>Shift the card so that 4 symbols are above or below the line (see the card image above, which will change depending on Sandra's location).</li>
                    <li>Refill Parts as shown by the Kanban card according to normal rules, then return the card to the bottom of the Kanban deck.</li>
                    <p><strong>Second, Mr. Lacerda collects parts</strong></p>
                    <li>Remove all Parts of the type indicated above from the warehouse, keep 1, and discard the rest (if no Parts of that type are available choose another).</li>
                    <li>The Colleagues keep a maximum of 6 Parts between them; if they gain a 7th, reduce down to 6 by discarding the type that is lowest on the Upgrade Value track (if tied, select a tied Part at random).</li>
                    <li>
                        <span v-if="!lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda is NOT yet certified<br /></span>
                            Once he is certified, he takes an additional Part.
                        </span>
                        <span v-if="lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda IS CERTIFIED<br /></span>Because he is certified, Mr. Lacerda collects parts again.
                        </span>
                        <span v-if="difficultyCards[0].include">
                            <span class="instructions-important">Difficulty Card #1: Certified Lacerda<br /></span>Mr. Lacerda takes an additional Part.
                        </span>
                    </li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 2 && currentPlayer.engineer === 1">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Remove all Parts of the type indicated above from the warehouse, keep 1, and discard the rest (if no Parts of that type are available choose another).</li>
                    <li>The Colleagues keep a maximum of 6 Parts between them; if they gain a 7th, reduce down to 6 by discarding the type that is lowest on the Upgrade Value track (if tied, select a tied Part at random).</li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 2 && currentPlayer.engineer === 2">
                    <li>Remove all but 1 Car Part from each warehouse.</li>
                    <li><strong>Evaluation Penalty: </strong>Have 2 or fewer Car Parts on your Player board.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 2 && currentPlayer.engineer === 3">
                    <p><strong>Issue Kanban Order <br /><span class="instructions-important">Only once per turn</span></strong></p>
                    <li>Gain 1 Banked shift.</li>
                    <li>Place a Kanban Order card with 4 symbols on one side of the line and 2 on the other.</li>
                    <li>For each matching symbol, add 1 Car Part.</li>
                    <li>Return the card to the bottom of the deck.</li>
                    <li>Draw the top card from the deck into your hand.</li>
                    <p style="margin-top: 2rem;"><strong>Collect Car Parts</strong></p>
                    <li>Take any number of Car Parts from any one warehouse.</li>
                    <p style="margin-top: 2rem;"><strong><span class="instructions-important">IF YOU ARE CERTIFIED</span><br />Collect Car Parts<br /><span class="instructions-important">Only once per turn</span></strong></p>
                    <li>Take 1 Parts Voucher from the supply.</li>
                    <p style="margin-top: 2rem;" v-if="difficultyCards[8].include"><strong><span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause</span></strong></p>
                    <li v-if="difficultyCards[8].include">
                        If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 3 && currentPlayer.engineer === 0">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Take 2 Design tiles (see above for column to use).</li>
                    <li>Upgradeable design tiles are placed at the bottom of the Colleagues' shared design stack.</li>
                    <li>Non-upgradeable design tiles are returned to the bottom of the Central Stack and the Colleagues score 2 PP each.</li>
                    <li>
                        <span v-if="!lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda is NOT yet certified<br /></span>
                            Once he is certified, he takes an additional tile from the Central Stack.
                        </span>
                        <span v-if="lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda IS CERTIFIED<br /></span>Because he is certified, Mr. Lacerda takes an additional tile from the Central Stack.
                        </span>
                        <span v-if="difficultyCards[0].include">
                            <span class="instructions-important">Difficulty Card #1: Certified Lacerda<br /></span>Mr. Lacerda takes an additional tile from the Central Stack.
                        </span>
                    </li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is due.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 3 && currentPlayer.engineer === 1">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Take 2 Design tiles (see above for column to use).</li>
                    <li>Upgradeable design tiles are placed at the bottom of the Colleagues' shared design stack.</li>
                    <li>Non-upgradeable design tiles are returned to the bottom of the Central Stack and the Colleagues score 2 PP each.</li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is due.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 3 && currentPlayer.engineer === 2">
                    <li>Shuffle and return the rightmost 4 Design tiles to the bottom of the Central stack. In a 2-player game, remove the rightmost 8 tiles. Then, slide the Designs right and fill any gaps as normal.</li>
                    <li><strong>Evaluation Penalty: </strong>Have 2 or fewer Designs on your desk.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 3 && currentPlayer.engineer === 3">
                    <p><strong>Select a Design</strong></p>
                    <li>Choose one of the Designs on the rightmost 8 spaces.</li>
                    <li>Receive benefit (if any).</li>
                    <li>Move the Design to an available space on your Player board. Keep it design-side up.</li>
                    <li>At the end of the turn:  slide all Designs in both rows to the right to fill any gaps.</li>
                    <p style="margin-top: 2rem;"><strong><span class="instructions-important">IF YOU ARE CERTIFIED</span><br />Select an Advanced Design</strong></p>
                    <li>You can select the top Designs from the Central stack and from the stacks in the First Office.</li>
                    <p style="margin-top: 2rem;" v-if="difficultyCards[8].include"><strong><span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause</span></strong></p>
                    <li v-if="difficultyCards[8].include">
                        If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 4 && currentPlayer.engineer === 0">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Advance training in Sandra's current department.</li>
                    <li v-if="!(currentTrainingTrackLevel === 3 && sandrasPosition === 4)">
                        <span v-if="!lacerdaIsCertified && !difficultyCards[0].include">
                            <span class="instructions-important">Mr. Lacerda is NOT yet certified<br /></span>
                            Once he is certified, he advances an additional training space in Sandra's current department.
                        </span>
                        <span v-if="lacerdaIsCertified && !difficultyCards[0].include && !(currentTrainingTrackLevel === 3 && sandrasPosition === 4)">
                            <span class="instructions-important">Mr. Lacerda IS CERTIFIED<br /></span>Because he is certified, Mr. Lacerda advances an additional training space in Sandra's current department.
                        </span>
                        <span v-if="difficultyCards[0].include">
                            <span class="instructions-important">Difficulty Card #1: Certified Lacerda<br /></span>Mr. Lacerda advances an additional training space in Sandra's current department.
                        </span>
                    </li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is due.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 4 && currentPlayer.engineer === 1">
                    <li>Advance once on the training track (you should end up on the spot indicated above).</li>
                    <li>Advance training in Sandra's current department.</li>
                    <li v-if="difficultyCards[1].include">
                        <span class="instructions-important">Difficulty Card #2: Cushy Speech<br /></span>Speech tokens acquired by {{ currentPlayerName }} (in Assembly and at the top of training tracks) score 2 PP instead of 1 PP.
                    </li>
                    <li v-if="difficultyCards[2].include">
                        <span class="instructions-important">Difficulty Card #3: Certified Advantage<br /></span>{{ currentPlayerName }} scores the PP shown on the certification track, plus <span v-if="!difficultyCards[1].include">1 PP</span><span v-if="difficultyCards[1].include">2 PP (because of #2 Cushy Speech)</span> per Generic Speech token he is due.
                    </li>
                    <li v-if="difficultyCards[6].include">
                        <span class="instructions-important">Difficulty Card #7: Forced Overtime<br /></span>Whenever {{ currentPlayerName }} would advance on a training track he already maxed out, he cancels one of your Banked Shifts instead, if any.
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 4 && currentPlayer.engineer === 2 && !isFirstDeptSelection">
                    <p><strong>Perform End-of-Week Scoring</strong><br /><span class="instructions-important">For each Car in your garages:</span></p>
                    <li>Gain 1 PP for each Upgrade that has been made to that Model <span class="instructions-important">(by all players)</span>. To do this, count the number of Car Parts on the Upgrade spaces of the Model.</li>
                    <li>Gain 1 PP for each Tested Design you have of that Model.</li>
                    <li>Advance the Week marker by 1 space unless it is already on position 3 (in that case just ignore this step).</li>
                    <li>The Colleagues score 2 PP for each Upgraded Design tile they have. These tiles are then removed from the game (and so will not be scored again at the end of next Week).</li>
                    <li><strong>Evaluation Penalty: </strong>Be certified in 2 or fewer departments.</li>
                    <li v-if="difficultyCards[5].include">
                        <span class="instructions-important">Difficulty Card #6: Increased Quotas<br /></span>The Colleagues score one additional PP (3 PP total) per Upgraded Design they have during the End-of-Week scoring.
                    </li>
                    <li v-if="difficultyCards[7].include">
                        <span class="instructions-important">Difficulty Card #8: Keeping up with the Colleagues<br /></span>During End-of-Week scoring, besides the Colleagues scoring their Designs, they also score 2/4/6/8 PP (at the end of the 1st/2nd/3rd/4th week).
                    </li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 4 && currentPlayer.engineer === 2 && isFirstDeptSelection">
                    <li>On the first day of the game, Sandra sits at her desk and takes no action.</li>
                </ul>
                <ul class="instructions-list" v-if="currentPlayer.dept === 4 && currentPlayer.engineer === 3">
                    <li>Choose <span class="instructions-important">one</span> other department to work in.</li>
                    <li>Split your Shifts and Books however you like between Administration and the chosen department: only in Administration, or only in the chosen department, or in both.</li>
                    <li>Shifts worked in Administration can only be used for training.</li>
                    <li v-if="difficultyCards[8].include">
                        <span class="instructions-important">Difficulty Card #9: The Immediate Termination Clause<br /></span>If your PP reaches zero at any time (not just after a Meeting or End-of-Week scoring), you are immediately fired and have lost the game.
                    </li>
                </ul>
                <ul class="instructions-list" v-if="this.isEndOfDay && !this.isFirstDeptSelection">
                    <p style="margin-top: 2rem; margin-left: -1rem;"><strong>If a meeting occurs...</strong></p>
                    <p style="margin-top: 0rem; margin-bottom: 1rem; margin-left: -1rem; font-size: 0.9rem;">In certification track order, perform the Meeting as normal with the following changes:</p>
                    <li>Colleagues don't play Performance Goals, and nor do they interact with yours.</li>
                    <li>Mr. Lacerda has a number of Generic Speech tokens equal to the number of the meeting (1, 2, 3, or 4). He picks cards to place Speech tokens on from left to right, starting from the leftmost card (and skipping cards that are already full) and scores the maximum available multiplier for each such card.</li>
                    <li>Mr. Turczi always takes exactly 3 Generic Speech tokens. He picks cards to place Speech tokens on from right to left, starting from the rightmost card (and skipping cards that are already full) and scores as if he had a single multiplier for each such card.</li>
                    <li>If the Colleagues were unable to place all of their Speech tokens (due to cards being full), return any remaining tokens to the supply.</li>
                    <li>After the meeting, you must play 2 of your remaining 3 Performance Goal cards, add 2 randomly drawn from the deck, shuffle them together and lay them out randomly to create new Goals for the next meeting, then redraw back up to 4 Performance Goal cards.</li>
                </ul>
            </section>
            <section class="button-container">
                <button class="button" v-on:click="setPhaseIndex(phaseIndex + 1)">Next >></button>
            </section>
        </section>
    </main>
    <script src="app.js"></script>
</body>